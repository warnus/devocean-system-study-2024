# 키-값 저장소 설계
* KEY-VALUE STORE 라고도 부르며 비관계형 데이터베이스이다. 고유 식별자를 키로 가져야 하고, 키와 값 사이의 연결관계를 키-값 쌍이라고 한다.
* 키는 유일해야 하며 값은 키를 통해서만 접근 가능하다. 짧을 수록 좋다.
* 값은 문자열, 리스트, 객체일수도 있고 대부분 무엇이 오든 상관하지 않는다.
* 서비스 예시로는 Amazon DynamoDB, memcached, redis 가 있다.

## 단일 서버 키-값 저장소
* 가장 단순하게 구현하려면 해시 테이블을 사용하는 것이다.
* 아래 두 가지 방법을 사용할 수 있으나 그래도 결국 한 대의 서버로는 부족하고 분산 키-값 저장소가 필요하다.
    * 압축
    * 자주쓰는 데이터만 메모리에 두고 나머지는 디스크에 저장

## 분산 키-값 저장소

### CAP
* Consistency, Availability, Partition Tolerance 의 약자다.
* CAP 중 3가지 중 2가지를 만족하려면 1가지를 희생해야 한다
* 키-값 스토어는
    * CP: 일관성과 파티션 감내를 지원하며 저장소로 가용성을 희생한다
    * AP: 가용성과 파티션 감내를 지원하며 데이터 일관성을 희생한다
    * CA: 일관성과 가용성을 지원한다. 실제 세계에서는 네트워크 장애는 피할 수 없기 때문에 대부분의 분산 시스템은 파티션 감내할 수 있도록 설계되어 CA는 거의 존재하지 않는다.
